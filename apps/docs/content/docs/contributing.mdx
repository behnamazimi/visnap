---
title: Contributing
description: How to contribute to ViviDiff development
---

Thank you for your interest in contributing to ViviDiff! This guide will help you get started with development.

## Development Setup

### Prerequisites

- Node.js 18 or higher
- npm 10 or higher
- Git

### Getting Started

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd vividiff
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Build packages**
   ```bash
   npm run build
   ```

4. **Run tests**
   ```bash
   npm run test
   ```

## Project Structure

ViviDiff is a monorepo with the following packages:

```
packages/
├── protocol/          # Shared TypeScript types
├── playwright-adapter/ # Browser automation
├── storybook-adapter/  # Storybook integration
├── url-adapter/        # URL testing
├── core/              # Core functionality
├── cli/               # Command-line interface
└── reporter/          # Test reports

apps/
├── docs/              # Documentation site
└── example-storybook/ # Example Storybook project
```

## Making Changes

### Code Style

- Follow the existing code style and patterns
- Run `npm run lint` to check for linting issues
- Run `npm run format` to format code with Prettier
- Ensure all tests pass with `npm run test`

### Development Workflow

1. **Create a feature branch**
   ```bash
   git checkout -b feature/my-feature
   ```

2. **Make your changes**
   - Write code following existing patterns
   - Add tests for new functionality
   - Update documentation if needed

3. **Test your changes**
   ```bash
   npm run test
   npm run lint
   npm run check-types
   ```

4. **Create a changeset**
   ```bash
   npx changeset
   ```

5. **Submit a pull request**

### Creating Changesets

When making changes that should be released, create a changeset:

1. **Create a changeset**
   ```bash
   npx changeset
   ```

2. **Follow the prompts** to:
   - Select which packages are affected
   - Choose the type of change (patch, minor, major)
   - Write a description of the changes

3. **Include the changeset file** in your PR

### Testing

Run tests for specific packages:

```bash
# Test all packages
npm run test

# Test specific package
npm run test -- --filter=@vividiff/core

# Test with coverage
npm run test -- --coverage
```

### Building

Build all packages:

```bash
npm run build
```

Build specific package:

```bash
npm run build -- --filter=@vividiff/core
```

## Package Development

### Adding New Features

1. **Update the protocol** (if needed)
   - Add new types to `packages/protocol/src/index.ts`
   - Update interfaces and types

2. **Implement the feature**
   - Add code to the appropriate package
   - Follow existing patterns and conventions

3. **Add tests**
   - Write unit tests for new functionality
   - Add integration tests if needed

4. **Update documentation**
   - Update README files
   - Add examples and usage guides

### Creating New Adapters

1. **Create adapter package**
   ```bash
   mkdir packages/my-adapter
   cd packages/my-adapter
   npm init -y
   ```

2. **Implement adapter interface**
   ```typescript
   import type { BrowserAdapter, TestCaseAdapter } from '@vividiff/protocol';
   
   export class MyAdapter implements BrowserAdapter {
     // Implement required methods
   }
   ```

3. **Add to core package**
   - Register adapter in core package
   - Add configuration options

4. **Update documentation**
   - Add adapter documentation
   - Include usage examples

## Release Process

This project uses automated releases with Changesets:

1. **Merge PR with changesets** to `main`
2. **Version Packages PR** is automatically created
3. **Maintainers review and merge** the version PR
4. **Packages are automatically published** to npm

### Versioning

All packages share the same version number (fixed versioning):
- `patch` - Bug fixes
- `minor` - New features (backward compatible)
- `major` - Breaking changes

## Code Review Process

### Submitting PRs

1. **Create a clear title** describing the change
2. **Write a detailed description** of what changed and why
3. **Include tests** for new functionality
4. **Update documentation** if needed
5. **Create a changeset** if the change should be released

### Review Guidelines

- **Check functionality** - Does the code work as expected?
- **Review tests** - Are there adequate tests?
- **Check documentation** - Is documentation updated?
- **Verify changeset** - Is the changeset appropriate?

## Common Issues

### Build Failures

```bash
# Clean and rebuild
npm run clean
npm run build
```

### Test Failures

```bash
# Run tests with verbose output
npm run test -- --verbose

# Run specific test
npm run test -- --filter=@vividiff/core -- --testNamePattern="test name"
```

### Linting Issues

```bash
# Fix linting issues
npm run lint

# Check specific file
npx eslint packages/core/src/index.ts
```

### Type Errors

```bash
# Check types
npm run check-types

# Check specific package
npx tsc --noEmit --project packages/core/tsconfig.json
```

## Getting Help

- **GitHub Issues** - Report bugs and request features
- **Discussions** - Ask questions and discuss ideas
- **Pull Requests** - Submit code changes

## License

By contributing to ViviDiff, you agree that your contributions will be licensed under the MIT License.
