---
title: CLI Commands
description: All ViSnap CLI commands and options
---

ViSnap provides a simple command-line interface for running visual tests. All commands work with your `visnap.config.ts` file.

## Installation

Install globally:

```npm
npm install -g visnap
```

Or use with npx (no installation needed):

```npm
npx visnap [command]
```

## Global Options

All commands support these options:

- `--config <path>` - Path to configuration file (default: `visnap.config.ts`)
- `--quiet` - Suppress output except errors
- `-h, --help` - Show help for command
- `-v, --version` - Show version information

## Commands

### `init`

Initialize a new ViSnap project with a configuration file.

```npm
npx visnap init
```

This command:
- Creates `visnap.config.ts` in your project root
- Prompts for configuration type (TypeScript or JavaScript)
- Sets up basic configuration for Storybook testing


### `test`

Capture current screenshots and compare them with baseline images.

```npm
npx visnap test [options]
```

**Options:**
- `--jsonReport [path]` - Output JSON report (provide path to write to file, omit to print to stdout)
- `--docker` - Run inside Docker container

### `update`

Capture baseline screenshots for all test cases and save them to `visnap/base/`.

```npm 
npx visnap update [options]
```

**Options:**
- `--docker` - Run inside Docker container


### `validate`

Validate your configuration file and check dependencies.

```npm
npx visnap validate [options]
```

### `list`

List all discovered test cases without running tests.

```npm
npx visnap list [options]
```

### `open`

Open HTML report in browser or screenshot directory in Finder if the HTML report is not generated.

```npm
npx visnap open [options]
```

## Configuration File

ViSnap looks for configuration in this order:

1. `--config` option
2. `visnap.config.ts`
3. `visnap.config.js`

## Environment Variables

Override configuration with environment variables:

```bash
VISNAP_SCREENSHOT_DIR=./screenshots
VISNAP_THRESHOLD=0.05
VISNAP_MAX_CONCURRENCY=8
visnap test
```

## Troubleshooting

### Command Not Found

Make sure ViSnap is installed:

```npm
npm install -g visnap
```

### Permission Errors

On Linux/macOS, you might need to install Playwright browsers:

```npm
npx playwright install
```

### Docker Issues

Make sure Docker is running:

```bash
docker --version
```

## Exit Codes

- `0` - Success
- `1` - General error
- `2` - Configuration error
- `3` - Test failures
- `4` - Dependency error
