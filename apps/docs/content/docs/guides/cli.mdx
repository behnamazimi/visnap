---
title: CLI Commands
description: All ViviDiff CLI commands and options
---

ViviDiff provides a simple command-line interface for running visual tests. All commands work with your `vividiff.config.ts` file.

## Installation

Install globally:

```npm
npm install -g vividiff
```

Or use with npx (no installation needed):

```npm
npx vividiff [command]
```

## Global Options

All commands support these options:

- `--config <path>` - Path to configuration file (default: `vividiff.config.ts`)
- `--quiet` - Suppress output except errors
- `-h, --help` - Show help for command
- `-v, --version` - Show version information

## Commands

### `init`

Initialize a new ViviDiff project with a configuration file.

```npm
npx vividiff init
```

This command:
- Creates `vividiff.config.ts` in your project root
- Prompts for configuration type (TypeScript or JavaScript)
- Sets up basic configuration for Storybook testing


### `test`

Capture current screenshots and compare them with baseline images.

```npm
npx vividiff test [options]
```

**Options:**
- `--jsonReport [path]` - Output JSON report (provide path to write to file, omit to print to stdout)
- `--docker` - Run inside Docker container

### `update`

Capture baseline screenshots for all test cases and save them to `vividiff/base/`.

```npm 
npx vividiff update [options]
```

**Options:**
- `--docker` - Run inside Docker container


### `validate`

Validate your configuration file and check dependencies.

```npm
npx vividiff validate [options]
```

### `list`

List all discovered test cases without running tests.

```npm
npx vividiff list [options]
```

### `open`

Open HTML report in browser or screenshot directory in Finder if the HTML report is not generated.

```npm
npx vividiff open [options]
```

## Configuration File

ViviDiff looks for configuration in this order:

1. `--config` option
2. `vividiff.config.ts`
3. `vividiff.config.js`

## Environment Variables

Override configuration with environment variables:

```bash
VIVIDIFF_SCREENSHOT_DIR=./screenshots
VIVIDIFF_THRESHOLD=0.05
VIVIDIFF_MAX_CONCURRENCY=8
vividiff test
```

## Troubleshooting

### Command Not Found

Make sure ViviDiff is installed:

```npm
npm install -g vividiff
```

### Permission Errors

On Linux/macOS, you might need to install Playwright browsers:

```npm
npx playwright install
```

### Docker Issues

Make sure Docker is running:

```bash
docker --version
```

## Exit Codes

- `0` - Success
- `1` - General error
- `2` - Configuration error
- `3` - Test failures
- `4` - Dependency error
