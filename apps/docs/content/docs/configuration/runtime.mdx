---
title: Runtime
description: Concurrency, quiet mode
---

Control how tests execute with runtime configuration options.

## Configuration

```ts
// visnap.config.ts|js
runtime: {
  // maxConcurrency applies to capture and compare when a number
  maxConcurrency: 6,
  // or separate limits: { capture: number; compare: number }
  // quiet suppresses non-error logs
  quiet: false,
}
```

<ApiTable
  title="Runtime Options"
  caption="Controls parallelism and logging during test execution."
  rows={ApiTable.defineRows([
    {
      name: "maxConcurrency",
      type: "number | { capture?: number; compare?: number }",
      default: "6",
      description:
        "Maximum parallelism. Use an object to set separate limits for capture and compare.",
      href: "#concurrency",
    },
    {
      name: "quiet",
      type: "boolean",
      default: "false",
      description: "Suppress non-error logs during execution.",
      href: "#quiet-mode",
    },
  ])}
  anchorPrefix="runtime"
/>

## Concurrency

Control how many tests run in parallel. You can set a single numeric concurrency (applies to both capture and compare), or provide separate limits.

Use a number for a global limit, or an object for per-phase limits.

### Separate Concurrency Limits

Fine-tune performance by setting different limits for capture and comparison:

Example: `{ capture: 4, compare: 2 }` prioritizes capture throughput while keeping comparison CPU usage moderate.

## Quiet Mode

Suppress output except errors:

Set quiet: true to reduce noise in CI logs.

## Performance Tips

- **Higher concurrency** = faster execution but more memory usage
- **Lower concurrency** = slower execution but more stable on resource-constrained systems
- **Capture concurrency** affects browser resource usage
- **Compare concurrency** affects CPU usage for image processing
