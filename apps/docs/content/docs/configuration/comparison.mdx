---
title: Comparison
description: Configure engines (odiff/pixelmatch), threshold sensitivity, and diff colors.
---

ViSnap compares images using either [odiff](https://github.com/dmtrKovalenko/odiff) or [pixelmatch](https://github.com/mapbox/pixelmatch). Use the table below to review available options and defaults.

## Configuration

```ts
// visnap.config.ts|js
comparison: {
  core: 'odiff',        // or 'pixelmatch'
  threshold: 0.1,       // 0.0–1.0; higher = less strict
  diffColor: '#00ff00', // optional highlight color
}
```

<ApiTable
  title="API Table"
  rows={ApiTable.defineRows([
    {
      name: 'core',
      type: '"odiff" | "pixelmatch"',
      default: '"odiff"',
      description: (
        <>
          Comparison engine. <code>odiff</code> is fast and robust; <code>pixelmatch</code> provides traditional per-pixel comparison.
        </>
      ),
      href: '#engines',
    },
    {
      name: 'threshold',
      type: 'number (0.0–1.0)',
      default: '0.1',
      description: 'How different pixels must be to count as a change; higher is less strict.',
      href: '#threshold',
    },
    {
      name: 'diffColor',
      type: 'string (CSS color)',
      description: 'Color used to highlight differences in the diff image, e.g., #00ff00.',
      href: '#diff-color',
    },
  ])}
  anchorPrefix="comparison"
/>

## Engines

- odiff (default): fast, robust defaults; recommended for most projects
- pixelmatch: classic per‑pixel comparison; choose when you need its specific behavior

## 

## Threshold

Controls how different pixels must be to count as a change. Range: 0.0–1.0.

- 0.0 — No differences allowed (very strict)
- 1.0 — All differences ignored (very loose)
- 0.1 — Recommended starting point (10% difference)

## Diff Color

Customize the highlight color used in generated diff images. Example: "#ff0000" for red, "#00ff00" for green.

## Best Practices

- Start with odiff + 0.1 threshold; tune gradually based on noise and flakiness.
- Use CSS injection to disable animations/transitions during capture.
- Increase threshold for components with subtle animations or dynamic content.
- Decrease threshold for precise UI (icons, typography, fine lines).
