---
title: Docker
description: Using --docker flag, consistency benefits
---

ViSnap supports Docker for consistent testing environments across different systems.

## Docker Usage Model

Use Docker via CLI flags. You typically do not configure Docker in `visnap.config.ts`.

```npm
# Run tests inside Docker
npx visnap test --docker
```

```npm
# Update baselines inside Docker
npx visnap update --docker
```

## Docker Image

ViSnap provides an official Docker image available on Docker Hub that includes all necessary dependencies and browser binaries.

### Using the Official Image

You can use the ViSnap Docker image directly:

```bash
# Pull the latest image
docker pull visnap/visnap:latest

# Run tests using the image directly
docker run --rm -v $(pwd):/workspace -w /workspace visnap/visnap:latest test

# Update baselines using the image directly
docker run --rm -v $(pwd):/workspace -w /workspace visnap/visnap:latest update
```

### Using the --docker Flag

The `--docker` flag automatically uses the latest ViSnap Docker image:

```npm
# This uses the latest visnap/visnap:latest image
npx visnap test --docker
npx visnap update --docker
```

This is the recommended approach as it ensures you're always using the most up-to-date image with the latest features and fixes.

## Benefits of Docker

- **Consistency** - Same environment across development, staging, and production
- **Isolation** - Tests run in a clean, isolated environment
- **Reproducibility** - Identical results regardless of host system
- **Dependency Management** - All required dependencies are included

## Docker Requirements

- Docker must be installed and running
- Your project files must be accessible to the Docker container
- Ports used by your application must be available

## Troubleshooting

### Docker Not Running

Make sure Docker is running:

```bash
docker --version
```

### Permission Issues

On Linux, you might need to add your user to the docker group:

```bash
sudo usermod -aG docker $USER
```

### Port Conflicts

Ensure ports used by your application are not already in use by other services.
